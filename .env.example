# Application configuration (Pydantic Settings).
# Copy to .env in project root for local/uv runs, or use docker/.env.example for Docker.
# Env vars use double underscore: SECTION__key (e.g. DB__host).

# -----------------------------------------------------------------------------
# Database
# Empty DB__user => SQLite overlay.db (local dev). Set user/password for PostgreSQL.
# -----------------------------------------------------------------------------
# DB__host=127.0.0.1
# DB__port=5432
# DB__name=donate
# DB__user=
# DB__password=

# -----------------------------------------------------------------------------
# Overlay API (bind address and port; payment link endpoints require API__payment_link_api_key when set)
# -----------------------------------------------------------------------------
# API__host=0.0.0.0
# API__port=5001
# API__payment_link_api_key=   # When set, GET/PUT /payment-link require Bearer or X-API-Key

# -----------------------------------------------------------------------------
# Stripe (webhook for payment-to-donor sync; when empty, POST /stripe-webhook returns 400)
# -----------------------------------------------------------------------------
# STRIPE__webhook_secret=   # Stripe webhook signing secret (whsec_...)

# -----------------------------------------------------------------------------
# Encoding (YouTube Live: CBR 4500k, GOP 2s, high/4.1, zerolatency)
# -----------------------------------------------------------------------------
# ENCODING__cbr_bitrate_k=4500
# ENCODING__fps=30
# ENCODING__gop_frames=60
# ENCODING__profile=high
# ENCODING__level=4.1
# ENCODING__tune=zerolatency
# ENCODING__encoder=libx264
# ENCODING__default_width=1920
# ENCODING__default_height=1080

# -----------------------------------------------------------------------------
# Stream worker (optional RTMP output for YouTube Live)
# -----------------------------------------------------------------------------
# WORKER__overlay_refresh_interval_seconds=8
# WORKER__default_input_url=rtsp://localhost:554/stream
# WORKER__rtmp_output_url=   # When set, worker publishes to this RTMP URL (e.g. rtmp://nginx-rtmp:1935/out/stream)

# -----------------------------------------------------------------------------
# YouTube Live (multiple accounts; overlay API writes Nginx push config from API)
# -----------------------------------------------------------------------------
# Create OAuth 2.0 client in GCP Console; then set:
# YOUTUBE__CLIENT_ID=
# YOUTUBE__CLIENT_SECRET=
# YOUTUBE__REFRESH_TOKENS=   # JSON: {"UCchannelId":"refresh_token", ...} (add via /youtube/connect callback)
# YOUTUBE__PUSH_CONF_PATH=/etc/nginx/conf.d/youtube_push.conf
# YOUTUBE__REFRESH_INTERVAL_SECONDS=300
